(function(){"use strict";function o(){this.getInputElement().setAttribute("readOnly",!0)}function s(){i("html")}function h(){i("wiki")}function i(t){var r=n.dialog.editor,u=r.config.customValues.convert_url,i={obj:{}};if(u&&t){if(t==="html"&&(i.obj.htmlContent=r.getData()),t==="wiki"&&(i.obj.wikiContent=n.dialog.contents.toHTML.wikiInput.getValue()),!i.obj.htmlContent&&!i.obj.wikiContent){t==="html"&&(alert("Please enter something into the editor first."),CKEDITOR.dialog.getCurrent().hide());t==="wiki"&&(alert("Please enter something into the textbox first."),n.dialog.contents.toHTML.wikiInput.focus());return}jQuery.ajax({url:u,data:JSON.stringify(i)}).done(function(i){var u=i.ConvertContentResult;t==="html"&&n.dialog.contents.toWiki.wikiOutput.setValue(u);t==="wiki"&&(r.setData(u),CKEDITOR.dialog.getCurrent().hide())})}}var n={};const t="Convert markup";var r={type:"textarea",id:"wikiOutput",onLoad:o},u={type:"button",id:"submitHTML",label:"Convert to MediaWiki",onClick:s},f={type:"textarea",id:"wikiInput"},e={type:"button",id:"submitWiki",label:"Convert to HTML",onClick:h};CKEDITOR.plugins.add("wygiwiki",{icons:"wygiwiki",init:function(n){n.addCommand("convertMarkup",new CKEDITOR.dialogCommand("wygiwikiDialog"));n.ui.addButton("Wygiwiki",{label:t,command:"convertMarkup"})}});CKEDITOR.dialog.add("wygiwikiDialog",function(){return{title:t,contents:[{id:"toWiki",label:"To MediaWiki",elements:[u,r]},{id:"toHTML",label:"From MediaWiki",elements:[f,e]}],onLoad:function(){n.dialog=this._},buttons:[]}})})();
//# sourceMappingURL=plugin.min.js.map